<html>
  <head>
    <title>CrispNES</title>
    <meta name="description" content="NES Sprite and Background Editor" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="CrispNES" />
    <meta property="og:url" content="https://offthebooks.games/crispnes" />
    <meta property="og:image" content="img/icon.png" />
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="img/icon.png" />
    <link rel="manifest" href="./app.webmanifest" />
    <link href="css/main.css" rel="stylesheet" />
  </head>

  <body>
    <header>
      <h1 title="Alpha software, backup your creations as CHR data"><i class="icon drawIcon"></i>CrispNES &alpha;</h1>
      <div id="menu">
        <details class="widget">
          <summary>Menu</summary>
          <ol>
            <li data-menu-item="loadChr">
              <i class="icon loadChrIcon"></i>Open CHR<span class="tip"
                >Load CHR tiles from file</span
              >
            </li>
            <li data-menu-item="saveChr">
              <i class="icon saveChrIcon"></i>Save CHR<span class="tip"
                >Save CHR tiles to file</span
              >
            </li>
            <li>
              Alpha software. Internal formats may change. Export and backup CHR data for forward compatibility.
            </li>
          </ol>
        </details>
      </div>
    </header>

    <div id="editor">
      <div id="editTileGrid"></div>
    </div>

    <!-- Tool widgets -->
    <div id="tilesets" class="widget open">
      <div id="tileset"></div>
    </div>

    <div id="tools" class="widget open">
      <button type="button">
        <i class="icon moveIcon"></i><span class="tip">Move tool</span>
      </button>
      <button type="button">
        <i class="icon drawIcon"></i><span class="tip">Draw tool</span>
      </button>
      <button type="button">
        <i class="icon fillIcon"></i><span class="tip">Fill tool</span>
      </button>
    </div>

    <div id="palettes" class="widget open">
      <!-- Four palettes to dynamically map to current background or sprite set -->
      <div class="palette active"><i></i><i></i><i></i><i></i></div>
      <div class="palette"><i></i><i></i><i></i><i></i></div>
      <div class="palette"><i></i><i></i><i></i><i></i></div>
      <div class="palette"><i></i><i></i><i></i><i></i></div>
      <div id="colorTable">
        <!-- 64 elements to map to all possible ppu color values -->
        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i
        ><i></i><i></i><i></i><i></i>
      </div>
    </div>

    <!-- Templates -->
    <template id="tileTemplate">
      <div class="tile"><canvas></canvas></div>
    </template>

    <template id="editTileTemplate">
      <div class="editTile"><canvas></canvas>
        <div class="tileTools">
          <button type="button">
            <i class="icon unlinkIcon"></i><span class="tip">Unlink tile</span>
          </button>
          <button type="button">
            <i class="icon clearIcon"></i><span class="tip">Clear tile</span>
          </button>
        </div>
      </div>
    </template>

    <a id="saveLink" style="display: none"></a>
    <input type="file" style="display: none" />
    <script type="module" src="src/main.js"></script>
  </body>
</html>
